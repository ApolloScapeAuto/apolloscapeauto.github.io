!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.baidubce=t()}}(function(){return function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return o(n?n:t)},p,p.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e){var n=t(44),r=t(17),o=t(15),i=t(31),s=t(32);e.exports={bos:{Uploader:i},utils:s,sdk:{Q:n,BosClient:r,Auth:o}}},{15:15,17:17,31:31,32:32,44:44}],2:[function(t,e){"use strict";var n=t(9),r=t(3);e.exports=r(n)},{3:3,9:9}],3:[function(t,e){"use strict";var n=t(4);e.exports=function(t){return function(e,r,o,i){return t(n(r),e,o,i)}}},{4:4}],4:[function(t,e){var n=t(11),r=t(10),o=t(12),i=t(7);e.exports=function(t){return function(e,s,a){a=n(a||r),e=e||[];var u=i(e);if(0>=t)return a(null);var c=!1,p=0,l=!1;!function f(){if(c&&0>=p)return a(null);for(;t>p&&!l;){var n=u();if(null===n)return c=!0,void(0>=p&&a(null));p+=1,s(e[n],n,o(function(t){p-=1,t?(a(t),l=!0):f()}))}}()}}},{10:10,11:11,12:12,7:7}],5:[function(t,e){"use strict";e.exports=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e){"use strict";var n=t(5);e.exports=function(t){return n(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}},{5:5}],7:[function(t,e){"use strict";var n=t(8),r=t(6);e.exports=function(t){var e,o,i=-1;return r(t)?(e=t.length,function(){return i++,e>i?i:null}):(o=n(t),e=o.length,function(){return i++,e>i?o[i]:null})}},{6:6,8:8}],8:[function(t,e){"use strict";e.exports=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}},{}],9:[function(t,e){"use strict";var n=t(11),r=t(10),o=t(6);e.exports=function(t,e,i,s){s=n(s||r),e=e||[];var a=o(e)?[]:{};t(e,function(t,e,n){i(t,function(t,r){a[e]=r,n(t)})},function(t){s(t,a)})}},{10:10,11:11,6:6}],10:[function(t,e){"use strict";e.exports=function(){}},{}],11:[function(t,e){"use strict";e.exports=function(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}},{}],12:[function(t,e){"use strict";e.exports=function(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}},{}],13:[function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t||n(t)&&s.call(t)==o}var o="[object Number]",i=Object.prototype,s=i.toString;e.exports=r},{}],14:[function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=n},{}],15:[function(t,e){function n(t,e){this.ak=t,this.sk=e}var r=t(42),o=t(47),i=t(46),s=t(19),a=t(22);n.prototype.generateAuthorization=function(t,e,n,i,s,a,u){var c=s?new Date(1e3*s):new Date,p=o.format("bce-auth-v1/%s/%s/%d",this.ak,r.toUTCString(c),a||1800),l=this.hash(p,this.sk),f=this.uriCanonicalization(e),h=this.queryStringCanonicalization(n||{}),d=this.headersCanonicalization(i||{},u),_=d[0],v=d[1],g=o.format("%s\n%s\n%s\n%s",t,f,h,_),y=this.hash(g,l);return v.length?o.format("%s/%s/%s",p,v.join(";"),y):o.format("%s//%s",p,y)},n.prototype.uriCanonicalization=function(t){return t},n.prototype.queryStringCanonicalization=function(t){var e=[];return i.each(i.keys(t),function(n){if(n.toLowerCase()!==s.AUTHORIZATION.toLowerCase()){var r=null==t[n]?"":t[n];e.push(n+"="+a.normalize(r))}}),e.sort(),e.join("&")},n.prototype.headersCanonicalization=function(t,e){e&&e.length||(e=[s.HOST,s.CONTENT_MD5,s.CONTENT_LENGTH,s.CONTENT_TYPE]);var n={};i.each(e,function(t){n[t.toLowerCase()]=!0});var r=[];i.each(i.keys(t),function(e){var s=t[e];s=i.isString(s)?a.trim(s):s,null!=s&&""!==s&&(e=e.toLowerCase(),(/^x\-bce\-/.test(e)||n[e]===!0)&&r.push(o.format("%s:%s",a.normalize(e),a.normalize(s))))}),r.sort();var u=[];return i.each(r,function(t){u.push(t.split(":")[0])}),[r.join("\n"),u]},n.prototype.hash=function(e,n){var r=t(40),o=r.createHmac("sha256",n);return o.update(e),o.digest("hex")},e.exports=n},{19:19,22:22,40:40,42:42,46:46,47:47}],16:[function(t,e){function n(t,e,n){r.call(this),this.config=s.extend({},a.DEFAULT_CONFIG,t),this.serviceId=e,this.regionSupported=!!n,this.config.endpoint=this._computeEndpoint(),this._httpAgent=null}var r=t(41).EventEmitter,o=t(47),i=t(44),s=t(46),a=t(18),u=t(15);o.inherits(n,r),n.prototype._computeEndpoint=function(){return this.config.endpoint?this.config.endpoint:this.regionSupported?o.format("%s://%s.%s.%s",this.config.protocol,this.serviceId,this.config.region,a.DEFAULT_SERVICE_DOMAIN):o.format("%s://%s.%s",this.config.protocol,this.serviceId,a.DEFAULT_SERVICE_DOMAIN)},n.prototype.createSignature=function(t,e,n,r,o){return i.fcall(function(){var i=new u(t.ak,t.sk);return i.generateAuthorization(e,n,r,o)})},e.exports=n},{15:15,18:18,41:41,44:44,46:46,47:47}],17:[function(t,e){function n(t){p.call(this,t,"bos",!0),this._httpAgent=null}var r=t(43),o=t(47),i=t(46),s=t(33),a=t(19),u=t(22),c=t(20),p=t(16),l=t(21),f=5368709120,h=2048;o.inherits(n,p),n.prototype.deleteObject=function(t,e,n){return n=n||{},this.sendRequest("DELETE",{bucketName:t,key:e,config:n.config})},n.prototype.putObject=function(t,e,n,r){if(!e)throw new TypeError("key should not be empty.");return r=this._checkOptions(r||{}),this.sendRequest("PUT",{bucketName:t,key:e,body:n,headers:r.headers,config:r.config})},n.prototype.putObjectFromBlob=function(t,e,n,r){var o={};return o[a.CONTENT_LENGTH]=n.size,r=i.extend(o,r),this.putObject(t,e,n,r)},n.prototype.getObjectMetadata=function(t,e,n){return n=n||{},this.sendRequest("HEAD",{bucketName:t,key:e,config:n.config})},n.prototype.initiateMultipartUpload=function(t,e,n){n=n||{};var o={};return o[a.CONTENT_TYPE]=n[a.CONTENT_TYPE]||l.guess(r.extname(e)),this.sendRequest("POST",{bucketName:t,key:e,params:{uploads:""},headers:o,config:n.config})},n.prototype.abortMultipartUpload=function(t,e,n,r){return r=r||{},this.sendRequest("DELETE",{bucketName:t,key:e,params:{uploadId:n},config:r.config})},n.prototype.completeMultipartUpload=function(t,e,n,r,o){var s={};return s[a.CONTENT_TYPE]="application/json; charset=UTF-8",o=this._checkOptions(i.extend(s,o)),this.sendRequest("POST",{bucketName:t,key:e,body:JSON.stringify({parts:r}),headers:o.headers,params:{uploadId:n},config:o.config})},n.prototype.uploadPartFromBlob=function(t,e,n,r,s,u,c){if(u.size!==s)throw new TypeError(o.format("Invalid partSize %d and data length %d",s,u.size));var p={};return p[a.CONTENT_LENGTH]=s,p[a.CONTENT_TYPE]="application/octet-stream",c=this._checkOptions(i.extend(p,c)),this.sendRequest("PUT",{bucketName:t,key:e,body:u,headers:c.headers,params:{partNumber:r,uploadId:n},config:c.config})},n.prototype.listParts=function(t,e,n,r){if(!n)throw new TypeError("uploadId should not empty");var o=["maxParts","partNumberMarker","uploadId"];return r=this._checkOptions(r||{},o),r.params.uploadId=n,this.sendRequest("GET",{bucketName:t,key:e,params:r.params,config:r.config})},n.prototype.listMultipartUploads=function(t,e){var n=["delimiter","maxUploads","keyMarker","prefix","uploads"];return e=this._checkOptions(e||{},n),e.params.uploads="",this.sendRequest("GET",{bucketName:t,params:e.params,config:e.config})},n.prototype.appendObject=function(t,e,n,r,o){if(!e)throw new TypeError("key should not be empty.");o=this._checkOptions(o||{});var s={append:""};return i.isNumber(r)&&(s.offset=r),this.sendRequest("POST",{bucketName:t,key:e,body:n,headers:o.headers,params:s,config:o.config})},n.prototype.appendObjectFromBlob=function(t,e,n,r,o){var s={};return s[a.CONTENT_LENGTH]=n.size,o=i.extend(s,o),this.appendObject(t,e,n,r,o)},n.prototype.sendRequest=function(t,e){var n={bucketName:null,key:null,body:null,headers:{},params:{},config:{},outputStream:null},r=i.extend(n,e),o=i.extend({},this.config,r.config),s=["/v1",u.normalize(r.bucketName||""),u.normalize(r.key||"",!1)].join("/");return o.sessionToken&&(r.headers[a.SESSION_TOKEN]=o.sessionToken),this.sendHTTPRequest(t,s,r,o)},n.prototype.sendHTTPRequest=function(t,e,n,r){var o=this,s=this._httpAgent=new c(r),a={httpMethod:t,resource:e,args:n,config:r};i.each(["progress","error","abort"],function(t){s.on(t,function(e){o.emit(t,e,a)})});var u=this._httpAgent.sendRequest(t,e,n.body,n.headers,n.params,i.bind(this.createSignature,this),n.outputStream);return u.abort=function(){if(s._req&&s._req.xhr){var t=s._req.xhr;t.abort()}},u},n.prototype._checkOptions=function(t,e){var n={};return n.config=t.config||{},n.headers=this._prepareObjectHeaders(t),n.params=i.pick(t,e||[]),n},n.prototype._prepareObjectHeaders=function(t){var e={};i.each([a.CONTENT_LENGTH,a.CONTENT_ENCODING,a.CONTENT_MD5,a.X_BCE_CONTENT_SHA256,a.CONTENT_TYPE,a.CONTENT_DISPOSITION,a.ETAG,a.SESSION_TOKEN,a.CACHE_CONTROL,a.EXPIRES,a.X_BCE_OBJECT_ACL,a.X_BCE_OBJECT_GRANT_READ],function(t){e[t]=!0});var n=0,r=i.pick(t,function(t,r){return e[r]?!0:/^x\-bce\-meta\-/.test(r)?(n+=s.byteLength(r)+s.byteLength(""+t),!0):void 0});if(n>h)throw new TypeError("Metadata size should not be greater than "+h+".");if(r.hasOwnProperty(a.CONTENT_LENGTH)){var u=r[a.CONTENT_LENGTH];if(0>u)throw new TypeError("content_length should not be negative.");if(u>f)throw new TypeError("Object length should be less than "+f+". Use multi-part upload instead.")}if(r.hasOwnProperty("ETag")){var c=r.ETag;/^"/.test(c)||(r.ETag=o.format('"%s"',c))}return r.hasOwnProperty(a.CONTENT_TYPE)||(r[a.CONTENT_TYPE]="application/octet-stream"),r},e.exports=n},{16:16,19:19,20:20,21:21,22:22,33:33,43:43,46:46,47:47}],18:[function(t,e,n){n.DEFAULT_SERVICE_DOMAIN="baidubce.com",n.DEFAULT_CONFIG={protocol:"http",region:"bj"}},{}],19:[function(t,e,n){n.CONTENT_TYPE="Content-Type",n.CONTENT_LENGTH="Content-Length",n.CONTENT_MD5="Content-MD5",n.CONTENT_ENCODING="Content-Encoding",n.CONTENT_DISPOSITION="Content-Disposition",n.ETAG="ETag",n.CONNECTION="Connection",n.HOST="Host",n.USER_AGENT="User-Agent",n.CACHE_CONTROL="Cache-Control",n.EXPIRES="Expires",n.AUTHORIZATION="Authorization",n.X_BCE_DATE="x-bce-date",n.X_BCE_ACL="x-bce-acl",n.X_BCE_REQUEST_ID="x-bce-request-id",n.X_BCE_CONTENT_SHA256="x-bce-content-sha256",n.X_BCE_OBJECT_ACL="x-bce-object-acl",n.X_BCE_OBJECT_GRANT_READ="x-bce-object-grant-read",n.X_HTTP_HEADERS="http_headers",n.X_BODY="body",n.X_STATUS_CODE="status_code",n.X_MESSAGE="message",n.X_CODE="code",n.X_REQUEST_ID="request_id",n.SESSION_TOKEN="x-bce-security-token",n.X_VOD_MEDIA_TITLE="x-vod-media-title",n.X_VOD_MEDIA_DESCRIPTION="x-vod-media-description",n.ACCEPT_ENCODING="accept-encoding",n.ACCEPT="accept"},{}],20:[function(t,e){function n(t){r.call(this),this.config=t,this._req=null}var r=t(41).EventEmitter,o=t(33),i=t(44),s=t(42),a=t(46),u=t(47),c=t(19);u.inherits(n,r),n.prototype.sendRequest=function(t,e,n,r,o,u,p){var l=this._getRequestUrl(e,o),f={};f[c.X_BCE_DATE]=s.toUTCString(new Date),f[c.CONTENT_TYPE]="application/json; charset=UTF-8",f[c.HOST]=/^\w+:\/\/([^\/]+)/.exec(this.config.endpoint)[1];var h=a.extend(f,r);if(!h.hasOwnProperty(c.CONTENT_LENGTH)){var d=this._guessContentLength(n);0===d&&/GET|HEAD/i.test(t)||(h[c.CONTENT_LENGTH]=d)}var _=this,v=u||a.noop;try{return i.resolve(v(this.config.credentials,t,e,o,h)).then(function(e,r){return e&&(h[c.AUTHORIZATION]=e),r&&(h[c.X_BCE_DATE]=r),_._doRequest(t,l,a.omit(h,c.CONTENT_LENGTH,c.HOST),n,p)})}catch(g){return i.reject(g)}},n.prototype._doRequest=function(t,e,n,r){var o=i.defer(),s=this,u=new XMLHttpRequest;u.open(t,e,!0);for(var c in n)if(n.hasOwnProperty(c)){var p=n[c];u.setRequestHeader(c,p)}return u.onerror=function(t){o.reject(t)},u.onabort=function(){o.reject(new Error("xhr aborted"))},u.onreadystatechange=function(){if(4===u.readyState){var t=u.status;1223===t&&(t=204);var n=u.getResponseHeader("Content-Type"),r=/application\/json/.test(n),i=r?JSON.parse(u.responseText):u.responseText;i||(i={location:e});var a=t>=200&&300>t||304===t;if(a){var c=s._fixHeaders(u.getAllResponseHeaders());o.resolve({http_headers:c,body:i})}else o.reject({status_code:t,message:i.message||"<message>",code:i.code||"<code>",request_id:i.requestId||"<request_id>"})}},u.upload&&a.each(["progress","error","abort"],function(t){u.upload.addEventListener(t,function(e){"function"==typeof s.emit&&s.emit(t,e)},!1)}),u.send(r),s._req={xhr:u},o.promise},n.prototype._guessContentLength=function(t){if(null==t||""===t)return 0;if(a.isString(t))return o.byteLength(t);if("undefined"!=typeof Blob&&t instanceof Blob)return t.size;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return t.byteLength;throw new Error("No Content-Length is specified.")},n.prototype._fixHeaders=function(t){var e={};return t&&a.each(t.split(/\r?\n/),function(t){var n=t.indexOf(":");if(-1!==n){var r=t.substring(0,n).toLowerCase(),o=t.substring(n+1).replace(/^\s+|\s+$/,"");"etag"===r&&(o=o.replace(/"/g,"")),e[r]=o}}),e},n.prototype.buildQueryString=function(e){var n=t(45).stringify(e);return n.replace(/[()'!~.*\-_]/g,function(t){return"%"+t.charCodeAt().toString(16)})},n.prototype._getRequestUrl=function(t,e){var n=t,r=this.buildQueryString(e);return r&&(n+="?"+r),this.config.endpoint+n},e.exports=n},{19:19,33:33,41:41,42:42,44:44,45:45,46:46,47:47}],21:[function(t,e,n){var r={};n.guess=function(t){return t&&t.length?("."===t[0]&&(t=t.substr(1)),r[t.toLowerCase()]||"application/octet-stream"):"application/octet-stream"}},{}],22:[function(t,e,n){var r={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"};n.normalize=function(t,e){var n=encodeURIComponent(t);return n=n.replace(/[!'\(\)\*]/g,function(t){return r[t]}),e===!1&&(n=n.replace(/%2F/gi,"/")),n},n.trim=function(t){return(t||"").replace(/^\s+|\s+$/g,"")}},{}],23:[function(t,e){var n={runtimes:"html5",bos_endpoint:"http://bj.bcebos.com",bos_ak:null,bos_sk:null,bos_credentials:null,bos_appendable:!1,bos_relay_server:"https://relay.efe.tech",multi_selection:!1,max_retries:0,retry_interval:1e3,auto_start:!1,max_file_size:"100mb",bos_multipart_min_size:"10mb",bos_multipart_parallel:1,bos_task_parallel:3,auth_stripped_headers:["User-Agent","Connection"],chunk_size:"4mb",bos_multipart_auto_continue:!1,bos_multipart_local_key_generator:"default",dir_selection:!1,get_new_uptoken:!0,uptoken_via_jsonp:!0,uptoken_timeout:5e3,uptoken_jsonp_timeout:5e3,tracker_id:null};e.exports=n},{}],24:[function(t,e){e.exports={kPostInit:"PostInit",kKey:"Key",kListParts:"ListParts",kObjectMetas:"ObjectMetas",kFileFiltered:"FileFiltered",kFilesAdded:"FilesAdded",kFilesFilter:"FilesFilter",kNetworkSpeed:"NetworkSpeed",kBeforeUpload:"BeforeUpload",kUploadProgress:"UploadProgress",kFileUploaded:"FileUploaded",kUploadPartProgress:"UploadPartProgress",kChunkUploaded:"ChunkUploaded",kUploadResume:"UploadResume",kUploadResumeError:"UploadResumeError",kUploadComplete:"UploadComplete",kError:"Error",kAborted:"Aborted"}},{}],25:[function(t,e){function n(){u.apply(this,arguments),this.xhrPools=[]}var r=t(44),o=t(35),i=t(46),s=t(32),a=t(24),u=t(30);s.inherits(n,u),n.prototype.start=function(){if(this.aborted)return r.resolve();var t=this,e=this.eventDispatcher,n=this.options.file,u=this.options.bucket,c=this.options.object,p=this.options.metas,l=this.options.chunk_size,f=this.options.bos_multipart_parallel,h=s.guessContentType(n),d={"Content-Type":h},_=null;return this._initiateMultipartUpload(n,l,u,c,d).then(function(i){_=i.body.uploadId;var p=i.body.parts||[],h=r.defer(),d=s.getTasks(n,_,l,u,c);s.filterTasks(d,p);var v=p.length,g={lengthComputable:!0,loaded:v,total:d.length};if(n._previousLoaded=v*l,v){var y=n._previousLoaded/n.size;e.dispatchEvent(a.kUploadProgress,[n,y,null])}return o.mapLimit(d,f,t._uploadPart(g),function(t,e){t?h.reject(t):h.resolve(e)}),h.promise}).then(function(e){var r=[];return i.each(e,function(t,e){r.push({partNumber:e+1,eTag:t.http_headers.etag})}),t._generateLocalKey({blob:n,chunkSize:l,bucket:u,object:c}).then(function(t){s.removeUploadId(t)}),t.client.completeMultipartUpload(u,c,_,r,p)}).then(function(t){e.dispatchEvent(a.kUploadProgress,[n,1]),t.body.bucket=u,t.body.object=c,e.dispatchEvent(a.kFileUploaded,[n,t])})["catch"](function(r){var o=t.aborted?a.kAborted:a.kError;e.dispatchEvent(o,[r,n])})},n.prototype._initiateMultipartUpload=function(t,e,n,o,i){function u(){return l.client.initiateMultipartUpload(n,o,i).then(function(t){return p&&s.setUploadId(p,t.body.uploadId),t.body.parts=[],t})}var c,p,l=this,f=this.eventDispatcher,h={blob:t,chunkSize:e,bucket:n,object:o},d=this.options.bos_multipart_auto_continue?this._generateLocalKey(h):r.resolve(null);return d.then(function(e){return(p=e)?(c=s.getUploadId(p),c?l._listParts(t,n,o,c):u()):u()}).then(function(e){if(c&&p){var n=e.body.parts;f.dispatchEvent(a.kUploadResume,[t,n,null]),e.body.uploadId=c}return e})["catch"](function(e){if(c&&p)return f.dispatchEvent(a.kUploadResumeError,[t,e,null]),s.removeUploadId(p),u();throw e})},n.prototype._generateLocalKey=function(t){var e=this.options.bos_multipart_local_key_generator;return s.generateLocalKey(t,e)},n.prototype._listParts=function(t,e,n,o){var s=this,u=this.eventDispatcher,c=u.dispatchEvent(a.kListParts,[t,o]);return r.resolve(c).then(function(t){return i.isArray(t)&&t.length?{http_headers:{},body:{parts:t}}:s._listAllParts(e,n,o)})},n.prototype._listAllParts=function(t,e,n){function o(){var r={maxParts:c,partNumberMarker:p};i.client.listParts(t,e,n,r).then(function(t){null==u&&(u=t),a.push.apply(a,t.body.parts),p=t.body.nextPartNumberMarker,t.body.isTruncated===!1?(u.body.parts=a,s.resolve(u)):o()})["catch"](function(t){s.reject(t)})}var i=this,s=r.defer(),a=[],u=null,c=1e3,p=0;return o(),s.promise},n.prototype._uploadPart=function(t){function e(i,u){if(i.etag)return n.networkInfo.loadedBytes+=i.partSize,r.resolve({http_headers:{etag:i.etag},body:{}});var c=null==u?n.options.max_retries:u,p=n.options.retry_interval,l=i.file.slice(i.start,i.stop+1);l._parentUUID=i.file.uuid,l._previousLoaded=0;var f=n.client.uploadPartFromBlob(i.bucket,i.object,i.uploadId,i.partNumber,i.partSize,l),h=n.xhrPools.push(f);return f.then(function(e){++t.loaded;var r={uploadId:i.uploadId,partNumber:i.partNumber,partSize:i.partSize,bucket:i.bucket,object:i.object,offset:i.start,total:l.size,response:e};return o.dispatchEvent(a.kChunkUploaded,[i.file,r]),n.xhrPools[h-1]=null,e})["catch"](function(t){if(c>0&&!n.aborted)return s.delay(p).then(function(){return e(i,c-1)});throw t})}var n=this,o=this.eventDispatcher;return function(t,n){var r=function(t){n(null,t)},o=function(t){n(t)};e(t).then(r,o)}},n.prototype.abort=function(){this.aborted=!0,this.xhrRequesting=null;for(var t=0;t<this.xhrPools.length;t++){var e=this.xhrPools[t];e&&"function"==typeof e.abort&&e.abort()}},e.exports=n},{24:24,30:30,32:32,35:35,44:44,46:46}],26:[function(t,e){function n(){this.loadedBytes=0,this.totalBytes=0,this._startTime=r.now(),this.reset()}var r=t(32);n.prototype.dump=function(){return[this.loadedBytes,r.now()-this._startTime,this.totalBytes-this.loadedBytes]},n.prototype.reset=function(){this.loadedBytes=0,this._startTime=r.now()},e.exports=n},{32:32}],27:[function(t,e){function n(){a.apply(this,arguments)}var r=t(44),o=t(46),i=t(32),s=t(24),a=t(30);i.inherits(n,a),n.prototype.start=function(t){if(this.aborted)return r.resolve();var e=this,n=this.eventDispatcher,a=this.options.file,u=this.options.bucket,c=this.options.object,p=this.options.metas,l=null==t?this.options.max_retries:t,f=this.options.retry_interval,h=i.guessContentType(a),d=o.extend({"Content-Type":h},p);return this.xhrRequesting=this.client.putObjectFromBlob(u,c,a,d),this.xhrRequesting.then(function(t){n.dispatchEvent(s.kUploadProgress,[a,1]),t.body.bucket=u,t.body.key=c,n.dispatchEvent(s.kFileUploaded,[a,t])})["catch"](function(t){var o=e.aborted?s.kAborted:s.kError;return n.dispatchEvent(o,[t,a]),t.status_code&&t.code&&t.request_id?r.resolve():l>0&&!e.aborted?i.delay(f).then(function(){return e.start(l-1)}):r.resolve()})},e.exports=n},{24:24,30:30,32:32,44:44,46:46}],28:[function(t,e){function n(t){this.collection=t}n.prototype.isEmpty=function(){return this.collection.length<=0},n.prototype.size=function(){return this.collection.length},n.prototype.dequeue=function(){return this.collection.shift()},e.exports=n},{}],29:[function(t,e){function n(t){this.options=t,this._cache={}}var r=t(44),o=t(32);n.prototype.get=function(t){var e=this;return null!=e._cache[t]?e._cache[t]:r.resolve(this._getImpl.apply(this,arguments)).then(function(n){return e._cache[t]=n,n})},n.prototype._getImpl=function(t){var e=this.options,n=e.uptoken_url,i=e.uptoken_timeout||e.uptoken_jsonp_timeout,s=e.uptoken_via_jsonp,a=r.defer();return $.ajax({url:n,jsonp:s?"callback":!1,dataType:s?"jsonp":"json",timeout:i,data:{sts:JSON.stringify(o.getDefaultACL(t))},success:function(t){a.resolve(t)},error:function(){a.reject(new Error("Get sts token timeout ("+i+"ms)."))}}),a.promise},e.exports=n},{32:32,44:44}],30:[function(t,e){function n(t,e,n){this.xhrRequesting=null,this.aborted=!1,this.networkInfo=null,this.client=t,this.eventDispatcher=e,this.options=n}function r(){throw new Error("unimplemented method.")}n.prototype.start=r,n.prototype.pause=r,n.prototype.resume=r,n.prototype.setNetworkInfo=function(t){this.networkInfo=t},n.prototype.abort=function(){this.xhrRequesting&&"function"==typeof this.xhrRequesting.abort&&(this.aborted=!0,this.xhrRequesting.abort(),this.xhrRequesting=null)},e.exports=n},{}],31:[function(t,e){function n(t){o.isString(t)&&(t=o.extend({browse_button:t,auto_start:!0},$(t).data()));var e={};this.options=o.extend({},a,e,t),this.options.max_file_size=i.parseSize(this.options.max_file_size),this.options.bos_multipart_min_size=i.parseSize(this.options.bos_multipart_min_size),this.options.chunk_size=i.parseSize(this.options.chunk_size);var n=this.options.bos_credentials;!n&&this.options.bos_ak&&this.options.bos_sk&&(this.options.bos_credentials={ak:this.options.bos_ak,sk:this.options.bos_sk}),this.client=new h({endpoint:i.normalizeEndpoint(this.options.bos_endpoint),credentials:this.options.bos_credentials,sessionToken:this.options.uptoken}),this._files=[],this._uploadingFiles={},this._abort=!1,this._working=!1,this._xhr2Supported=i.isXhr2Supported(),this._networkInfo=new l,this._init()}var r=t(44),o=t(46),i=t(32),s=t(24),a=t(23),u=t(27),c=t(25),p=t(29),l=t(26),f=t(15),h=t(17);n.prototype._getCustomizedSignature=function(t){var e=this.options,n=e.uptoken_timeout||e.uptoken_jsonp_timeout,i=e.uptoken_via_jsonp;return function(s,a,u,c,p){/\bed=([\w\.]+)\b/.test(location.search)&&(p.Host=RegExp.$1),o.isArray(e.auth_stripped_headers)&&(p=o.omit(p,e.auth_stripped_headers));var l=r.defer();return $.ajax({url:t,jsonp:i?"callback":!1,dataType:i?"jsonp":"json",timeout:n,data:{httpMethod:a,path:u,queries:JSON.stringify(c||{}),headers:JSON.stringify(p||{})},error:function(){l.reject(new Error("Get authorization timeout ("+n+"ms)."))},success:function(t){200===t.statusCode&&t.signature?l.resolve(t.signature,t.xbceDate):l.reject(new Error("createSignature failed, statusCode = "+t.statusCode))}}),l.promise}},n.prototype._invoke=function(t,e,n){var o=this.options.init||this.options.Init;if(o){var i=o[t];if("function"==typeof i)try{var s=null;return e=null==e?[s]:[s].concat(e),i.apply(null,e)}catch(a){if(n===!0)return r.reject(a)}}},n.prototype._init=function(){var t=this.options,e=t.accept,n=$(t.browse_button),a=n.prop("nodeName");if("INPUT"!==a){var u=n,c=u.outerWidth(),p=u.outerHeight(),l=$('<div class="bce-bos-uploader-input-container"><input type="file" /></div>');l.css({position:"absolute",top:0,left:0,width:c,height:p,overflow:"hidden","z-index":this._xhr2Supported?99:100}),l.find("input").css({position:"absolute",top:0,left:0,width:"100%",height:"100%","font-size":"999px",opacity:0}),u.css({position:"relative","z-index":this._xhr2Supported?100:99}),u.after(l),u.parent().css("position","relative"),t.browse_button=l.find("input"),this._xhr2Supported&&u.click(function(){t.browse_button.click()})}var h=this;if(!this._xhr2Supported&&"undefined"!=typeof mOxie&&o.isFunction(mOxie.FileInput)){var d=new mOxie.FileInput({runtime_order:"flash,html4",browse_button:$(t.browse_button).get(0),swf_url:t.flash_swf_url,accept:i.expandAcceptToArray(e),multiple:t.multi_selection,directory:t.dir_selection,file:"file"});d.onchange=o.bind(this._onFilesAdded,this),d.onready=function(){h._initEvents(),h._invoke(s.kPostInit)},d.init()}var _=t.bos_credentials?r.resolve():h.refreshStsToken();_.then(function(){t.bos_credentials?h.client.createSignature=function(t,e,n,o,i){var s=t||this.config.credentials;return r.fcall(function(){var t=new f(s.ak,s.sk);return t.generateAuthorization(e,n,o,i)})}:t.uptoken_url&&t.get_new_uptoken===!0&&(h.client.createSignature=h._getCustomizedSignature(t.uptoken_url)),h._xhr2Supported&&(h._initEvents(),h._invoke(s.kPostInit))})["catch"](function(t){h._invoke(s.kError,[t])})},n.prototype._initEvents=function(){var t=this.options;if(this._xhr2Supported){var e=$(t.browse_button);null==e.attr("multiple")&&e.attr("multiple",!!t.multi_selection),e.on("change",o.bind(this._onFilesAdded,this));var n=t.accept;if(null!=n){var r=i.expandAccept(n),s=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);s&&(r=i.extToMimeType(r)),e.attr("accept",r)}t.dir_selection&&(e.attr("directory",!0),e.attr("mozdirectory",!0),e.attr("webkitdirectory",!0))}this.client.on("progress",o.bind(this._onUploadProgress,this)),this.client.on("error",o.bind(this._onError,this)),this._xhr2Supported||(this.client.sendHTTPRequest=o.bind(i.fixXhr(this.options,!0),this.client))},n.prototype._filterFiles=function(t){var e=this,n=this.options.max_file_size,r=o.filter(t,function(t){return n>0&&t.size>n?(e._invoke(s.kFileFiltered,[t]),!1):!0});return this._invoke(s.kFilesFilter,[r])||r},n.prototype._onFilesAdded=function(t){var e=t.target.files;if(!e){var n=t.target.value.split(/[\/\\]/).pop();e=[{name:n,size:0}]}e=this._filterFiles(e),o.isArray(e)&&e.length&&this.addFiles(e),this.options.auto_start&&this.start()},n.prototype._onError=function(){},n.prototype._onUploadProgress=function(t,e){var n=e.args,r=n.body;if(i.isBlob(r)){var o=t.lengthComputable?t.loaded/t.total:0,a=t.loaded-r._previousLoaded;this._networkInfo.loadedBytes+=a,this._invoke(s.kNetworkSpeed,this._networkInfo.dump()),r._previousLoaded=t.loaded;var u=s.kUploadProgress;if(n.params.partNumber&&n.params.uploadId){u=s.kUploadPartProgress,this._invoke(u,[r,o,t]);var c=r._parentUUID,p=this._uploadingFiles[c],l=0;p&&(p._previousLoaded+=a,l=Math.min(p._previousLoaded/p.size,1),this._invoke(s.kUploadProgress,[p,l,null]))}else this._invoke(u,[r,o,t])}},n.prototype.addFiles=function(t){function e(t,e){return function(){t._aborted=!0,e._invoke(s.kAborted,[null,t])}}for(var n=0,r=0;r<t.length;r++){var o=t[r];o.abort=e(o,this),o.uuid=i.uuid(),n+=o.size}this._networkInfo.totalBytes+=n,this._files.push.apply(this._files,t),this._invoke(s.kFilesAdded,[t])},n.prototype.addFile=function(t){this.addFiles([t])},n.prototype.remove=function(t){"string"==typeof t&&(t=this._uploadingFiles[t]||o.find(this._files,function(e){return e.uuid===t})),t&&"function"==typeof t.abort&&t.abort()},n.prototype.start=function(){var t=this;if(!this._working&&this._files.length){this._working=!0,this._abort=!1,this._networkInfo.reset();var e=this.options.bos_task_parallel;i.eachLimit(this._files,e,function(e,n){e._previousLoaded=0,t._uploadNext(e).then(function(){delete t._uploadingFiles[e.uuid],n(null,e)})["catch"](function(){delete t._uploadingFiles[e.uuid],n(null,e)})},function(){t._working=!1,t._files.length=0,t._networkInfo.totalBytes=0,t._invoke(s.kUploadComplete)})}},n.prototype.stop=function(){this._abort=!0,this._working=!1},n.prototype.setOptions=function(t){var e=o.pick(t,"bos_credentials","bos_ak","bos_sk","uptoken","bos_bucket","bos_endpoint");this.options=o.extend(this.options,e);var n=this.client&&this.client.config;if(n){var r=null;t.bos_credentials?r=t.bos_credentials:t.bos_ak&&t.bos_sk&&(r={ak:t.bos_ak,sk:t.bos_sk}),r&&(this.options.bos_credentials=r,n.credentials=r),t.uptoken&&(n.sessionToken=t.uptoken),t.bos_endpoint&&(n.endpoint=i.normalizeEndpoint(t.bos_endpoint))}},n.prototype.refreshStsToken=function(){var t=this,e=t.options,n=e.bos_bucket&&e.uptoken_url&&e.get_new_uptoken===!1;if(n){var o=new p(e);return o.get(e.bos_bucket).then(function(e){return t.setOptions({bos_ak:e.AccessKeyId,bos_sk:e.SecretAccessKey,uptoken:e.SessionToken})})}return r.resolve()},n.prototype._uploadNext=function(t){if(this._abort)return this._working=!1,r.resolve();if(t._aborted===!0)return r.resolve();var e=!0,n=this._invoke(s.kBeforeUpload,[t],e);if(n===!1)return r.resolve();var o=this;return r.resolve(n).then(function(){return o._uploadNextImpl(t)})["catch"](function(e){o._invoke(s.kError,[e,t])})},n.prototype._uploadNextImpl=function(t){var e=this,n=this.options,i=t.name,a=!0,p=o.pick(n,"flash_swf_url","max_retries","chunk_size","retry_interval","bos_multipart_parallel","bos_multipart_auto_continue","bos_multipart_local_key_generator");return r.all([this._invoke(s.kKey,[t],a),this._invoke(s.kObjectMetas,[t])]).then(function(r){var s=n.bos_bucket,a=r[0],l=r[1],f="auto";o.isString(a)?i=a:o.isObject(a)&&(s=a.bucket||s,i=a.key||i,f=a.multipart||f);var h=e.client,d=e,_=o.extend(p,{file:t,bucket:s,object:i,metas:l}),v=u;"auto"===f&&e._xhr2Supported&&t.size>n.bos_multipart_min_size&&(v=c);var g=new v(h,d,_);return e._uploadingFiles[t.uuid]=t,t.abort=function(){return t._aborted=!0,g.abort()},g.setNetworkInfo(e._networkInfo),g.start()})},n.prototype.dispatchEvent=function(t,e,n){if(t===s.kAborted&&e&&e[1]){var r=e[1];if(r.size>0){var o=r._previousLoaded||0;this._networkInfo.totalBytes-=r.size-o,this._invoke(s.kNetworkSpeed,this._networkInfo.dump())}}return this._invoke(t,e,n)},e.exports=n},{15:15,17:17,23:23,24:24,25:25,26:26,27:27,29:29,32:32,44:44,46:46}],32:[function(t,e,n){function r(t,e){var n=a.filter(e||[],function(e){return+e.partNumber===t});return n.length?n[0].eTag:null}function o(t){var e=/^\w+:\/\/([^\/]+)/.exec(t);return e&&e[1]}var i=t(45),s=t(44),a=t(46),u=t(42),c=t(28),p=t(21);n.getTasks=function(t,e,n,r,o){for(var i=t.size,s=0,a=1,u=[];i>0;){var c=Math.min(i,n);u.push({file:t,uploadId:e,bucket:r,object:o,partNumber:a,partSize:c,start:s,stop:s+c-1}),i-=c,s+=c,a+=1}return u},n.getAppendableTasks=function(t,e,n){for(var r=t-e,o=[];r;){var i=Math.min(r,n);o.push({partSize:i,start:e,stop:e+i-1}),r-=i,e+=i}return o},n.parseSize=function(t){if("number"==typeof t)return t;var e=/^([\d\.]+)([mkg]?b?)$/i,n=e.exec(t);if(!n)return 0;var r=n[1],o=n[2];return/^k/i.test(o)?1024*r:/^m/i.test(o)?1024*r*1024:/^g/i.test(o)?1024*r*1024*1024:+r},n.isXhr2Supported=function(){return"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest},n.isAppendable=function(t){return"Appendable"===t["x-bce-object-type"]},n.delay=function(t){var e=s.defer();return setTimeout(function(){e.resolve()},t),e.promise},n.normalizeEndpoint=function(t){return t.replace(/(\/+)$/,"")},n.getDefaultACL=function(t){return{accessControlList:[{service:"bce:bos",region:"*",effect:"Allow",resource:[t+"/*"],permission:["READ","WRITE"]}]}},n.uuid=function(){var t=(Math.random()*Math.pow(2,32)).toString(36),e=(new Date).getTime();return"u-"+e+"-"+t},n.generateLocalKey=function(t,e){return s.resolve("default"===e?[t.blob.name,t.blob.size,t.chunkSize,t.bucket,t.object].join("&"):null)},n.getDefaultPolicy=function(t){if(null==t)return null;var e=(new Date).getTime(),n=new Date(e+864e5),r=u.toUTCString(n);return{expiration:r,conditions:[{bucket:t}]}},n.getUploadId=function(t){return localStorage.getItem(t)},n.setUploadId=function(t,e){localStorage.setItem(t,e)},n.removeUploadId=function(t){localStorage.removeItem(t)},n.filterTasks=function(t,e){a.each(t,function(t){var n=t.partNumber,o=r(n,e);o&&(t.etag=o)})},n.expandAccept=function(t){var e=[];
return a.isArray(t)?a.each(t,function(t){t.extensions&&e.push.apply(e,t.extensions.split(","))}):a.isString(t)&&(e=t.split(",")),e=a.map(e,function(t){return/^\./.test(t)||/\//.test(t)?t:"."+t}),e.join(",")},n.extToMimeType=function(t){var e=a.map(t.split(","),function(t){return-1!==t.indexOf("/")?t:p.guess(t)});return e.join(",")},n.expandAcceptToArray=function(t){return!t||a.isArray(t)?t:a.isString(t)?[{title:"All files",extensions:t}]:[]},n.transformUrl=function(t){var e=/(https?:)\/\/([^\/]+)\/([^\/]+)\/([^\/]+)/;return t.replace(e,function(t,e,n,r,o){return/^v\d$/.test(r)?e+"//"+o+"."+n+"/"+r:e+"//"+r+"."+n+"/"+o})},n.isBlob=function(t){var e=null;if("undefined"!=typeof Blob)e=Blob;else{if("undefined"==typeof mOxie||!a.isFunction(mOxie.Blob))return!1;e=mOxie.Blob}return t instanceof e},n.now=function(){return(new Date).getTime()},n.toDHMS=function(t){var e=0,n=0,r=0;return t>=60&&(r=~~(t/60),t-=60*r),r>=60&&(n=~~(r/60),r-=60*n),n>=24&&(e=~~(n/24),n-=24*e),{DD:e,HH:n,MM:r,SS:t}},n.fixXhr=function(t,e){return function(r,a,c,p){var l=this,f=o(p.endpoint);c.headers["x-bce-date"]=u.toUTCString(new Date),c.headers.host=f,c.params[".stamp"]=(new Date).getTime();var h=r;"PUT"===r&&(r="POST");var d,_=r,v=c.body;if("HEAD"===r){var g=n.normalizeEndpoint(t.bos_relay_server);d=g+"/"+f+a,c.params.httpMethod=r,_="POST"}else e===!0?(d=n.transformUrl(p.endpoint+a),a=d.replace(/^\w+:\/\/[^\/]+\//,"/"),c.headers.host=o(d)):d=p.endpoint+a;"POST"!==_||v||(v='{"FORCE_POST": true}');var y=s.defer(),m=new mOxie.XMLHttpRequest;m.onload=function(){var t=null;try{t=JSON.parse(m.response||"{}"),t.location=d}catch(e){t={location:d}}m.status>=200&&m.status<300?y.resolve("HEAD"===r?t:{http_headers:{},body:t}):y.reject({status_code:m.status,message:t.message||"",code:t.code||"",request_id:t.requestId||""})},m.onerror=function(t){y.reject(t)},m.upload&&(m.upload.onprogress=function(t){if("PUT"===h){t.lengthComputable=!0;var e={httpMethod:h,resource:a,args:c,config:p,xhr:m};l.emit("progress",t,e)}});var b=l.createSignature(l.config.credentials,r,a,c.params,c.headers);return b.then(function(e,n){e&&(c.headers.authorization=e),n&&(c.headers["x-bce-date"]=n);var r=i.stringify(c.params);r&&(d+="?"+r),m.open(_,d,!0);for(var o in c.headers)if(c.headers.hasOwnProperty(o)&&!/(host|content\-length)/i.test(o)){var s=c.headers[o];m.setRequestHeader(o,s)}m.send(v,{runtime_order:"flash",swf_url:t.flash_swf_url})})["catch"](function(t){y.reject(t)}),y.promise}},n.eachLimit=function(t,e,n,r){function o(){var t=u.dequeue();t&&(i++,n(t,function(t){i--,t?(s=!0,a=!0,r(t)):u.isEmpty()||s?0>=i&&(a||(a=!0,r())):setTimeout(o,0)}))}var i=0,s=!1,a=!1,u=new c(t);e=Math.min(e,u.size());for(var p=0;e>p;p++)o()},n.inherits=function(e,n){return t(47).inherits(e,n)},n.guessContentType=function(t,e){var n=t.type;if(!n){var r=t.name,o=r.split(/\./g).pop();n=p.guess(o)}return e||/charset=/.test(n)||(n+="; charset=UTF-8"),n}},{21:21,28:28,42:42,44:44,45:45,46:46,47:47}],33:[function(t,e){function n(){}n.byteLength=function(t){var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)},e.exports=n},{}],34:[function(t,e){!function(t){function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:a)(e.promise,t._value);var r;try{r=n(t._value)}catch(o){return void a(e.promise,o)}s(e.promise,r)}))}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void p(r(n,e),t)}t._state=1,t._value=e,u(t)}catch(i){a(t,i)}}function a(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;n>e;e++)i(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,a(e,t))})}catch(r){if(n)return;n=!0,a(e,r)}}var l=setTimeout;o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new c(t,e,r)),r},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(i,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(i,t)},n)}e[i]=s,0===--o&&t(e)}catch(u){n(u)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,o=t.length;o>r;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){l(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},"undefined"!=typeof e&&e.exports?e.exports=o:t.Promise||(t.Promise=o)}(this)},{}],35:[function(t,e,n){n.mapLimit=t(2)},{2:2}],36:[function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},o=r.algo={},i=r.lib={},s=i.Base=function(){return{extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;this.clamp();var i;if(r%4)for(i=0;o>i;i++){var s=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;o>i;i+=4)e[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=Math.ceil(e/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e,n=[],r=function(t){var e=987654321,n=4294967295;return function(){e=36969*(65535&e)+(e>>16)&n,t=18e3*(65535&t)+(t>>16)&n;var r=(e<<16)+t&n;return r/=4294967296,r+=.5,r*(Math.random()>.5?1:-1)}},o=0;t>o;o+=4){var i=r(4294967296*(e||Math.random()));e=987654071*i(),n.push(4294967296*i()|0)}return new a.init(n,t)}}),u=r.enc={},c=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;n>o;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},p=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;n>o;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},l=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,o=this.blockSize,i=4*o,s=r/i;s=t?Math.ceil(s):Math.max((0|s)-this._minBufferSize,0);var u=s*o,c=Math.min(4*u,r);if(u){for(var p=0;u>p;p+=o)this._doProcessBlock(n,p);var l=n.splice(0,u);e.sigBytes-=c}return new a.init(l,c)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=f.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new o.HMAC.init(t,n).finalize(e)}}}),e.exports=r},{}],37:[function(t,e){t(39),t(38);var n=t(36);e.exports=n.HmacSHA256},{36:36,38:38,39:39}],38:[function(t){var e=t(36),n=e,r=n.lib,o=r.Base,i=n.enc,s=i.Utf8,a=n.algo;a.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),i=this._iKey=e.clone(),a=o.words,u=i.words,c=0;n>c;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);e.reset();var r=e.finalize(this._oKey.clone().concat(n));return r}})},{36:36}],39:[function(t,e){var n=t(36),r=n,o=r.lib,i=o.WordArray,s=o.Hasher,a=r.algo,u=[],c=[];!function(){function t(t){for(var e=Math.sqrt(t),n=2;e>=n;n++)if(!(t%n))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;64>r;)t(n)&&(8>r&&(u[r]=e(Math.pow(n,.5))),c[r]=e(Math.pow(n,1/3)),r++),n++}();var p=[],l=a.SHA256=s.extend({_doReset:function(){this._hash=new i.init(u.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],l=n[6],f=n[7],h=0;64>h;h++){if(16>h)p[h]=0|t[e+h];else{var d=p[h-15],_=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=p[h-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;p[h]=_+p[h-7]+g+p[h-16]}var y=a&u^~a&l,m=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),k=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),T=f+k+y+c[h]+p[h],E=b+m;f=l,l=u,u=a,a=s+T|0,s=i,i=o,o=r,r=T+E|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),e[(r+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});r.SHA256=s._createHelper(l),r.HmacSHA256=s._createHmacHelper(l),e.exports=n.SHA256},{36:36}],40:[function(t,e,n){var r=t(37),o=t(36).enc.Hex;n.createHmac=function(t,e){if("sha256"===t){var n=null,i={update:function(t){n=r(t,e).toString(o)},digest:function(){return n}};return i}}},{36:36,37:37}],41:[function(t,e,n){function r(){this.__events={}}r.prototype.emit=function(t){var e=this.__events[t];if(!e)return!1;for(var n=[].slice.call(arguments,1),r=0;r<e.length;r++){var o=e[r];try{o.apply(this,n)}catch(i){}}return!0},r.prototype.on=function(t,e){this.__events[t]?this.__events[t].push(e):this.__events[t]=[e]},n.EventEmitter=r},{}],42:[function(t,e,n){function r(t){return 10>t?"0"+t:t}n.toISOString=function(t){return t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},n.toUTCString=function(t){var e=n.toISOString(t);return e.replace(/\.\d+Z$/,"Z")}},{}],43:[function(t,e,n){function r(t){return s.exec(t).slice(1)}function o(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=t(46),s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)};n.extname=function(t){return r(t)[3]},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i.filter(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.normalize=function(t){var e="/"===t.charAt(0),n="/"===a(t,-1);return t=o(i.filter(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t}},{46:46}],44:[function(t,e,n){var r=t(34);n.resolve=function(){return r.resolve.apply(r,arguments)},n.reject=function(){return r.reject.apply(r,arguments)},n.all=function(){return r.all.apply(r,arguments)},n.fcall=function(t){try{return r.resolve(t())}catch(e){return r.reject(e)}},n.defer=function(){var t={};return t.promise=new r(function(e,n){t.resolve=function(){e.apply(null,arguments)},t.reject=function(){n.apply(null,arguments)}}),t}},{34:34}],45:[function(t,e,n){function r(t){return"string"==typeof t?t:"number"==typeof t&&isFinite(t)?""+t:"boolean"==typeof t?t?"true":"false":""}var o=t(46);n.stringify=function(t,e,n,i){e=e||"&",n=n||"=";var s=encodeURIComponent;if(i&&"function"==typeof i.encodeURIComponent&&(s=i.encodeURIComponent),null!==t&&"object"==typeof t){for(var a=o.keys(t),u=a.length,c=u-1,p="",l=0;u>l;++l){var f=a[l],h=t[f],d=s(r(f))+n;if(o.isArray(h)){for(var _=h.length,v=_-1,g=0;_>g;++g)p+=d+s(r(h[g])),v>g&&(p+=e);_&&c>l&&(p+=e)}else p+=d+s(r(h)),c>l&&(p+=e)}return p}return""}},{46:46}],46:[function(t,e,n){function r(t){return"string"==typeof t||k.call(t)===m}function o(t){return"function"==typeof t}function i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n&&y(n))for(var r=d(n),o=0;o<r.length;o++){var i=r[o],s=n[i];t[i]=s}}return t}function s(t,e,n){for(var r=[],o=0;o<t.length;o++)r[o]=e.call(n,t[o],o,t);return r}function a(t,e,n){for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)}function u(t,e,n){for(var r=0;r<t.length;r++){var o=t[r];if(e.call(n,o,r,t))return o}}function c(t,e,n){for(var r=[],o=0;o<t.length;o++){var i=t[o];e.call(n,i,o,t)&&r.push(i)}return r}function p(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function l(t,e){for(var n=_(e)?e:[].slice.call(arguments,1),r={},o=d(t),i=0;i<o.length;i++){var s=o[i];-1===p(n,s)&&(r[s]=t[s])}return r}function f(t,e,n){var r,i,s,a={};if(o(e)){var u=e,c=d(t);for(r=0;r<c.length;r++)i=c[r],s=t[i],u.call(n,s,i,t)&&(a[i]=s)}else{var p=_(e)?e:[].slice.call(arguments,1);for(r=0;r<p.length;r++)i=p[r],t.hasOwnProperty(i)&&(a[i]=t[i])}return a}function h(t,e){return function(){return t.apply(e,[].slice.call(arguments))}}function d(t){var e,n,r=[];for(e in t)T.call(t,e)&&r.push(e);if(E)for(n=0;n<w.length;n++)T.call(t,w[n])&&r.push(w[n]);return r}var _=t(5),v=t(10),g=t(13),y=t(14),m="[object String]",b=Object.prototype,k=b.toString,T=Object.prototype.hasOwnProperty,E=!{toString:null}.propertyIsEnumerable("toString"),w=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];n.bind=h,n.each=a,n.extend=i,n.filter=c,n.find=u,n.isArray=_,n.isFunction=o,n.isNumber=g,n.isObject=y,n.isString=r,n.map=s,n.omit=l,n.pick=f,n.keys=d,n.noop=v},{10:10,13:13,14:14,5:5}],47:[function(t,e,n){var r=t(46);n.inherits=function(t,e){var n=t.prototype,o=new Function;o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t,r.extend(t.prototype,n)},n.format=function(t){var e=arguments.length;if(1===e)return t;for(var n="",r=1,o=0,i=0;i<t.length;){if(37===t.charCodeAt(i)&&i+1<t.length)switch(t.charCodeAt(i+1)){case 100:if(r>=e)break;i>o&&(n+=t.slice(o,i)),n+=Number(arguments[r++]),o=i+=2;continue;case 115:if(r>=e)break;i>o&&(n+=t.slice(o,i)),n+=String(arguments[r++]),o=i+=2;continue;case 37:i>o&&(n+=t.slice(o,i)),n+="%",o=i+=2;continue}++i}return 0===o?n=t:o<t.length&&(n+=t.slice(o)),n}},{46:46}]},{},[1])(1)});